{"ast":null,"code":"import _classCallCheck from \"/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/src/App.js\";\nimport React, { Component } from 'react';\nimport './styles/App.css';\nimport axios from 'axios';\nimport LoginContent from './components/Login/Login';\nimport UserDetails from './components/UserDetails/UserDetails';\nimport Cookies from 'universal-cookie';\nimport ObjectivesContent from './components/ObjectivesContent/ObjectivesContent';\nimport Header from './components/Header/Header';\nvar cookies = new Cookies();\n\nvar checkSession = function checkSession() {\n  axios.get(\"./users/checkSession\").then(function (response) {\n    console.log(response.data.loggedIn);\n\n    if (response.data.loggedIn) {\n      return true;\n    } else {\n      return false;\n    }\n  });\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      loggedIn: checkSession(),\n      firstName: null,\n      lastName: null,\n      profilePic: null,\n      email: null\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      this.setState(checkSession());\n\n      var responseGoogleSuccess = function responseGoogleSuccess(response) {\n        if (!response.error) {\n          var userId = response.googleId;\n          var firstName = response.profileObj.givenName;\n          var lastName = response.profileObj.familyName;\n          var email = response.profileObj.email;\n          var imageUrl = response.profileObj.imageUrl;\n          axios.post('./users/login', {\n            userId: userId,\n            firstName: firstName,\n            lastName: lastName,\n            email: email,\n            imageUrl: imageUrl\n          }).then(function (response) {\n            cookies.set('session', response.data.session, {\n              maxAge: 600\n            });\n            cookies.set('userId', response.data.userId, {\n              maxAge: 600\n            });\n          });\n\n          _this2.setState({\n            loggedIn: true,\n            firstName: response.profileObj.givenName,\n            lastName: response.profileObj.familyName,\n            profilePic: response.profileObj.imageUrl,\n            email: response.profileObj.email\n          });\n        }\n      };\n\n      var responseGoogleFail = function responseGoogleFail(response) {\n        _this2.setState({\n          loggedIn: false\n        });\n      };\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, !this.state.loggedIn ? React.createElement(LoginContent, {\n        authId: \"235133504684-fjvf8vdusr8sjgaea7hs7ijbdu4kjgua.apps.googleusercontent.com\",\n        loginText: \"Google Login\",\n        loginSuccess: responseGoogleSuccess,\n        loginFail: responseGoogleFail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"user-profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(UserDetails, {\n        uName: this.state.firstName,\n        uPic: this.state.profilePic,\n        uEmail: this.state.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(ObjectivesContent, {\n        showModal: this.state.showModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/src/App.js"],"names":["React","Component","axios","LoginContent","UserDetails","Cookies","ObjectivesContent","Header","cookies","checkSession","get","then","response","console","log","data","loggedIn","App","props","state","firstName","lastName","profilePic","email","setState","responseGoogleSuccess","error","userId","googleId","profileObj","givenName","familyName","imageUrl","post","set","session","maxAge","responseGoogleFail","showModal"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles/App.css';\nimport axios from 'axios';\nimport LoginContent from './components/Login/Login';\nimport UserDetails from './components/UserDetails/UserDetails';\nimport Cookies from 'universal-cookie';\nimport ObjectivesContent from './components/ObjectivesContent/ObjectivesContent';\nimport Header from './components/Header/Header';\n\nconst cookies = new Cookies();\n\nvar checkSession = () => {\n  axios.get(\"./users/checkSession\").then(function(response) {\n    console.log(response.data.loggedIn)\n    if (response.data.loggedIn) {\n      return true;\n    } else {\n      return false;\n    }\n  });\n}\n\nclass App extends Component {\n    \n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loggedIn: checkSession(),\n      firstName: null,\n      lastName: null,\n      profilePic: null,\n      email: null\n    }\n\n  }\n\nrender() {\n    this.setState(checkSession());\n\n    const responseGoogleSuccess = (response) => {\n      if (!response.error) {\n\n        var userId = response.googleId;\n        var firstName = response.profileObj.givenName;\n        var lastName = response.profileObj.familyName;\n        var email = response.profileObj.email;\n        var imageUrl = response.profileObj.imageUrl;\n\n        axios.post('./users/login', {\n          userId: userId,\n          firstName: firstName,\n          lastName: lastName,\n          email: email,\n          imageUrl: imageUrl,\n        }).then(function (response) {\n          cookies.set('session', response.data.session, {maxAge: 600});\n          cookies.set('userId', response.data.userId, {maxAge: 600});\n        });\n\n        this.setState({\n            loggedIn: true,\n            firstName: response.profileObj.givenName,\n            lastName: response.profileObj.familyName,\n            profilePic: response.profileObj.imageUrl,\n            email: response.profileObj.email\n        });\n      }\n    }\n\n    const responseGoogleFail = (response) => {\n      this.setState({loggedIn: false});\n    }\n\n    return (\n      <div className=\"App\">\n        {!this.state.loggedIn ?\n          <LoginContent\n            authId=\"235133504684-fjvf8vdusr8sjgaea7hs7ijbdu4kjgua.apps.googleusercontent.com\"\n            loginText=\"Google Login\"\n            loginSuccess={responseGoogleSuccess}\n            loginFail={responseGoogleFail}/> :\n          <div className=\"user-profile\">\n            <Header />\n            <UserDetails\n              uName={this.state.firstName}\n              uPic={this.state.profilePic}\n              uEmail={this.state.email}/>\n            <ObjectivesContent\n              showModal={this.state.showModal}/>\n          </div>  \n          \n        }\n\n      </div>\n    );\n  }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}