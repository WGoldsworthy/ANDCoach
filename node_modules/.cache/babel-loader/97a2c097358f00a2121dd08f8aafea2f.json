{"ast":null,"code":"import _classCallCheck from \"/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/src/App.js\";\nimport React, { Component } from 'react';\nimport './styles/App.css';\nimport axios from 'axios';\nimport LoginContent from './components/Login/Login';\nimport Cookies from 'universal-cookie';\nimport ObjectivesPage from './components/ObjectivesPage/ObjectivesPage';\nimport Header from './components/Header/Header';\nimport NotesPage from './components/NotesPage/NotesPage';\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\nimport { Redirect } from 'react-router';\nvar cookies = new Cookies();\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    document.title = \"AND Coach\";\n    _this.state = {\n      loggedIn: false,\n      firstName: null,\n      lastName: null,\n      profilePic: null,\n      email: null,\n      userId: null\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"checkSess\",\n    value: function checkSess() {\n      var parent = this;\n      axios.get(\"./users/checkSession\").then(function (response) {\n        if (response.data.loggedIn) {\n          var searchString = \"./users/get/\" + cookies.get('userId');\n          axios.get(searchString).then(function (response) {\n            parent.setState({\n              loggedIn: true,\n              firstName: response.data.user.firstName,\n              lastName: response.data.user.lastName,\n              profilePic: response.data.user.imageUrl,\n              email: response.data.user.email,\n              userId: response.data.user.userId\n            });\n          });\n        } else {\n          parent.setState({\n            loggedIn: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.checkSess();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var responseGoogleSuccess = function responseGoogleSuccess(response) {\n        if (!response.error) {\n          var userId = response.googleId;\n          var firstName = response.profileObj.givenName;\n          var lastName = response.profileObj.familyName;\n          var email = response.profileObj.email;\n          var imageUrl = response.profileObj.imageUrl;\n          axios.post('./users/login', {\n            userId: userId,\n            firstName: firstName,\n            lastName: lastName,\n            email: email,\n            imageUrl: imageUrl\n          }).then(function (response) {\n            cookies.set('session', response.data.session, {\n              maxAge: 600\n            });\n            cookies.set('userId', response.data.userId, {\n              maxAge: 600\n            });\n          });\n\n          _this2.setState({\n            loggedIn: true,\n            firstName: response.profileObj.givenName,\n            lastName: response.profileObj.familyName,\n            profilePic: response.profileObj.imageUrl,\n            email: response.profileObj.email,\n            userId: response.googleId\n          });\n        }\n      };\n\n      var responseGoogleFail = function responseGoogleFail(response) {\n        _this2.setState({\n          loggedIn: false\n        });\n      };\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, !this.state.loggedIn ? React.createElement(LoginContent, {\n        authId: \"235133504684-fjvf8vdusr8sjgaea7hs7ijbdu4kjgua.apps.googleusercontent.com\",\n        loginText: \"Google Login\",\n        loginSuccess: responseGoogleSuccess,\n        loginFail: responseGoogleFail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return React.createElement(Redirect, {\n            to: \"/objectives\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"user-profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/objectives\",\n        render: function render(routeProps) {\n          return React.createElement(ObjectivesPage, Object.assign({}, routeProps, {\n            uName: _this2.state.firstName,\n            uPic: _this2.state.profilePic,\n            uEmail: _this2.state.email,\n            userId: _this2.state.userId,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/notes\",\n        render: function render(routeProps) {\n          return React.createElement(NotesPage, Object.assign({}, routeProps, {\n            uName: _this2.state.firstName,\n            uPic: _this2.state.profilePic,\n            uEmail: _this2.state.email,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/wgoldsworthy/Documents/Bootcamp/ANDCoach/andcoach/src/App.js"],"names":["React","Component","axios","LoginContent","Cookies","ObjectivesPage","Header","NotesPage","Route","BrowserRouter","Router","Redirect","cookies","App","props","document","title","state","loggedIn","firstName","lastName","profilePic","email","userId","parent","get","then","response","data","searchString","setState","user","imageUrl","checkSess","responseGoogleSuccess","error","googleId","profileObj","givenName","familyName","post","set","session","maxAge","responseGoogleFail","routeProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles/App.css';\nimport axios from 'axios';\nimport LoginContent from './components/Login/Login';\nimport Cookies from 'universal-cookie';\nimport ObjectivesPage from './components/ObjectivesPage/ObjectivesPage';\nimport Header from './components/Header/Header';\n\nimport NotesPage from './components/NotesPage/NotesPage';\nimport { Route, BrowserRouter as Router } from 'react-router-dom'\nimport { Redirect } from 'react-router';\nconst cookies = new Cookies();\n\nclass App extends Component {\n    \n  constructor(props) {\n    super(props);\n    document.title = \"AND Coach\"\n\n    this.state = {\n      loggedIn: false,\n      firstName: null,\n      lastName: null,\n      profilePic: null,\n      email: null,\n      userId: null,\n    }\n  }\n\n  checkSess() {\n    var parent = this;\n    axios.get(\"./users/checkSession\").then(function(response) {\n      if (response.data.loggedIn) {\n        var searchString = \"./users/get/\" + cookies.get('userId');\n        axios.get(searchString).then(function(response) {\n\n          parent.setState({\n            loggedIn: true,\n            firstName: response.data.user.firstName,\n            lastName: response.data.user.lastName,\n            profilePic: response.data.user.imageUrl,\n            email: response.data.user.email,\n            userId: response.data.user.userId\n          });\n\n        })\n      } else {\n        parent.setState({loggedIn: false});\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.checkSess();\n  }\n\nrender() {\n\n    const responseGoogleSuccess = (response) => {\n      if (!response.error) {\n\n        var userId = response.googleId;\n        var firstName = response.profileObj.givenName;\n        var lastName = response.profileObj.familyName;\n        var email = response.profileObj.email;\n        var imageUrl = response.profileObj.imageUrl;\n\n        axios.post('./users/login', {\n          userId: userId,\n          firstName: firstName,\n          lastName: lastName,\n          email: email,\n          imageUrl: imageUrl,\n        }).then(function (response) {\n          cookies.set('session', response.data.session, {maxAge: 600});\n          cookies.set('userId', response.data.userId, {maxAge: 600});\n        });\n\n        this.setState({\n            loggedIn: true,\n            firstName: response.profileObj.givenName,\n            lastName: response.profileObj.familyName,\n            profilePic: response.profileObj.imageUrl,\n            email: response.profileObj.email,\n            userId: response.googleId\n        });\n      }\n    }\n\n    const responseGoogleFail = (response) => {\n      this.setState({loggedIn: false});\n    }\n\n    return (\n      <div className=\"App\">\n        <Router>\n          <div>\n            {!this.state.loggedIn ?\n              <LoginContent\n                authId=\"235133504684-fjvf8vdusr8sjgaea7hs7ijbdu4kjgua.apps.googleusercontent.com\"\n                loginText=\"Google Login\"\n                loginSuccess={responseGoogleSuccess}\n                loginFail={responseGoogleFail}/> :\n              <div>\n                <Route exact path=\"/\" render={() => (<Redirect to=\"/objectives\"/>)}/>\n                  <div className=\"user-profile\">\n                    <Header />\n                      <Route path=\"/objectives\"\n                        render={(routeProps) => (\n                          <ObjectivesPage {...routeProps}\n                            uName={this.state.firstName}\n                            uPic={this.state.profilePic}\n                            uEmail={this.state.email}\n                            userId={this.state.userId} />\n                        )}\n                      />\n                      <Route path=\"/notes\" \n                        render={(routeProps) => (\n                          <NotesPage {...routeProps} \n                          uName={this.state.firstName}\n                          uPic={this.state.profilePic}\n                          uEmail={this.state.email} />\n                        )}\n                    />\n                </div>\n              </div> \n            }\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}